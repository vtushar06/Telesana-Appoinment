services:
  # Web Service (Next.js Application)
  - type: web
    name: telesana-app
    env: node
    region: oregon # Change to your preferred region
    plan: starter # free tier
    buildCommand: ./render-build.sh
    startCommand: npm start
    envVars:
      - key: NODE_VERSION
        value: 20.11.0
      - key: DATABASE_URL
        sync: false # Set this in Render dashboard
      - key: NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY
        sync: false # Set this in Render dashboard
      - key: CLERK_SECRET_KEY
        sync: false # Set this in Render dashboard
      - key: NEXT_PUBLIC_CLERK_SIGN_IN_URL
        value: /sign-in
      - key: NEXT_PUBLIC_CLERK_SIGN_UP_URL
        value: /sign-up
      - key: VONAGE_API_KEY
        sync: false # Optional - Set if using video calls
      - key: VONAGE_API_SECRET
        sync: false # Optional - Set if using video calls
      - key: VONAGE_APPLICATION_ID
        sync: false # Optional - Set if using video calls
      - key: NODE_ENV
        value: production

# Database can be created separately in Render
# Recommended: Use Render's PostgreSQL or MySQL database service
databases:
  - name: telesana-db
    databaseName: telesana
    plan: starter # free tier
